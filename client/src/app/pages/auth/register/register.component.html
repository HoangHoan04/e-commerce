<div class="register-container">
  <h2>Đăng ký</h2>
  <form
    (ngSubmit)="onSubmit()"
    #registerForm="ngForm"
    class="register-form"
    novalidate
  >
    <div class="form-group">
      <input
        type="text"
        placeholder="Họ tên"
        [(ngModel)]="form.name"
        name="name"
        required
        #name="ngModel"
        [class.invalid]="name.invalid && name.touched"
      />
      <div class="error" *ngIf="name.invalid && name.touched">
        Vui lòng nhập tên
      </div>
    </div>

    <div class="form-group">
      <input
        type="text"
        placeholder="Số điện thoại"
        [(ngModel)]="form.phone"
        name="phone"
        required
        #phone="ngModel"
        [class.invalid]="phone.invalid && phone.touched"
      />
      <div class="error" *ngIf="phone.invalid && phone.touched">
        Số điện thoại không hợp lệ
      </div>
    </div>

    <div class="form-group">
      <input
        type="email"
        placeholder="Email"
        [(ngModel)]="form.email"
        name="email"
        required
        #email="ngModel"
        [class.invalid]="email.invalid && email.touched"
      />
      <div class="error" *ngIf="email.invalid && email.touched">
        Email không hợp lệ
      </div>
    </div>

    <div class="form-group password-group">
      <div class="input-password">
        <input
          [type]="showPassword ? 'text' : 'password'"
          placeholder="Mật khẩu"
          [(ngModel)]="form.password"
          name="password"
          required
          #password="ngModel"
          [class.invalid]="password.invalid && password.touched"
        />
        <span
          class="material-icons toggle-password"
          (click)="showPassword = !showPassword"
        >
          {{ showPassword ? "visibility_off" : "visibility" }}
        </span>
      </div>

      <div class="error" *ngIf="password.invalid && password.touched">
        Vui lòng nhập mật khẩu
      </div>
    </div>

    <div class="form-group password-group">
      <div class="input-password">
        <input
          [type]="showConfirmPassword ? 'text' : 'password'"
          placeholder="Nhập lại mật khẩu"
          [(ngModel)]="form.confirmPassword"
          name="confirmPassword"
          required
          #confirmPassword="ngModel"
          [class.invalid]="
            (confirmPassword.invalid && confirmPassword.touched) ||
            form.confirmPassword !== form.password
          "
        />
        <span
          class="material-icons toggle-password"
          (click)="showConfirmPassword = !showConfirmPassword"
        >
          {{ showConfirmPassword ? "visibility_off" : "visibility" }}
        </span>
      </div>

      <div
        class="error"
        *ngIf="
          (confirmPassword.invalid && confirmPassword.touched) ||
          form.confirmPassword !== form.password
        "
      >
        Mật khẩu không khớp!
      </div>
    </div>

    <button type="submit" [disabled]="registerForm.invalid">Đăng ký</button>
  </form>

  <div class="login-link">
    <p>Bạn đã có tài khoản? <a routerLink="/auth/login">Đăng nhập ngay</a></p>
  </div>
</div>
